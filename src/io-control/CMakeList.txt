cmake_minimum_required(VERSION 3.12)
project(gpio_control C)

# 设置C标准
set(CMAKE_C_STANDARD 11)
set(CMAKE_C_STANDARD_REQUIRED ON)

# 查找gpiod库
find_package(PkgConfig REQUIRED)
pkg_search_module(GPIOD REQUIRED libgpiod)

# 添加可执行文件
add_executable(gpio_control
    main.c  # 假设您的代码保存在main.c文件中
)

# 包含目录
target_include_directories(gpio_control PRIVATE
    ${GPIOD_INCLUDE_DIRS}
)

# 链接库
target_link_libraries(gpio_control
    ${GPIOD_LIBRARIES}
)

# 安装规则（可选）
install(TARGETS gpio_control DESTINATION bin)